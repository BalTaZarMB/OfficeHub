import{H as e,T as t,F as l,I as a,_ as n}from"./index.vue_vue_type_script_setup_true_lang-B-7UBCTw.js";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang-BjN5Q8E7.js";import{u as i,g as s,b as r}from"./index-CP9bbISh.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{u as c,v as d}from"./editor-erg3WYaJ.js";import{f as p}from"./index.esm-CMCG6-Sp.js";import{_ as u,g as v,i as m,M as _,Q as k,Z as f,I as b,a9 as h,S as x,D as y,aa as z,f as C,B as w,x as g,ab as j,$ as S,a0 as I}from"./arco-CSlgBs8T.js";import{I as $}from"./index-CVht5qs2.js";import{d as T,c as L,j as D,n as B,s as W,p as N,m as P,r as V,w as F,u as J,l as M,$ as R,W as q,y as H,q as O,k as Z,x as E,F as U,O as Q}from"./vue-CE51Rq-N.js";const A=T({name:"IconCheckCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=v("icon");return{cls:L((()=>[l,`${l}-check-circle`,{[`${l}-spin`]:e.spin}])),innerStyle:L((()=>{const t={};return e.size&&(t.fontSize=m(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t})),onClick:e=>{t("click",e)}}}}),G=["stroke-width","stroke-linecap","stroke-linejoin"],K=[P("path",{d:"m15 22 7 7 11.5-11.5M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1)];var X=u(A,[["render",function(e,t,l,a,n,o){return D(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:N(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},K,14,G)}]]);const Y=Object.assign(X,{install:(e,t)=>{var l;const a=null!=(l=null==t?void 0:t.iconPrefix)?l:"";e.component(a+X.name,X)}}),ee=T({name:"IconStar",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=v("icon");return{cls:L((()=>[l,`${l}-star`,{[`${l}-spin`]:e.spin}])),innerStyle:L((()=>{const t={};return e.size&&(t.fontSize=m(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t})),onClick:e=>{t("click",e)}}}}),te=["stroke-width","stroke-linecap","stroke-linejoin"],le=[P("path",{d:"M22.552 6.908a.5.5 0 0 1 .896 0l5.02 10.17a.5.5 0 0 0 .376.274l11.224 1.631a.5.5 0 0 1 .277.853l-8.122 7.916a.5.5 0 0 0-.143.443l1.917 11.178a.5.5 0 0 1-.726.527l-10.038-5.278a.5.5 0 0 0-.466 0L12.73 39.9a.5.5 0 0 1-.726-.527l1.918-11.178a.5.5 0 0 0-.144-.443l-8.122-7.916a.5.5 0 0 1 .278-.853l11.223-1.63a.5.5 0 0 0 .376-.274l5.02-10.17Z"},null,-1)];var ae=u(ee,[["render",function(e,t,l,a,n,o){return D(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:N(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},le,14,te)}]]);const ne=Object.assign(ae,{install:(e,t)=>{var l;const a=null!=(l=null==t?void 0:t.iconPrefix)?l:"";e.component(a+ae.name,ae)}}),oe=T({name:"IconUserAdd",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=v("icon");return{cls:L((()=>[l,`${l}-user-add`,{[`${l}-spin`]:e.spin}])),innerStyle:L((()=>{const t={};return e.size&&(t.fontSize=m(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t})),onClick:e=>{t("click",e)}}}}),ie=["stroke-width","stroke-linecap","stroke-linejoin"],se=[P("path",{d:"M25 27h-8c-5.523 0-10 4.477-10 10v4h18m11-14v8m0 0v8m0-8h8m-8 0h-8m3-21a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"},null,-1)];var re=u(oe,[["render",function(e,t,l,a,n,o){return D(),B("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:W(e.cls),style:N(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},se,14,ie)}]]);const ce=Object.assign(re,{install:(e,t)=>{var l;const a=null!=(l=null==t?void 0:t.iconPrefix)?l:"";e.component(a+re.name,re)}}),de={header:"_header_nzp8s_1",leftControl:"_leftControl_nzp8s_13",titleContainer:"_titleContainer_nzp8s_16",inputTitle:"_inputTitle_nzp8s_27",fakeTitle:"_fakeTitle_nzp8s_38",icon:"_icon_nzp8s_56",title:"_title_nzp8s_16",iconCol:"_iconCol_nzp8s_67",time:"_time_nzp8s_71",starCol:"_starCol_nzp8s_74",rightControl:"_rightControl_nzp8s_83",textBtn:"_textBtn_nzp8s_83",htmlIcon:"_htmlIcon_nzp8s_92",shareBtn:"_shareBtn_nzp8s_96",hidable:"_hidable_nzp8s_107",maxHidable:"_maxHidable_nzp8s_112",popoverSize:"_popoverSize_nzp8s_116","arco-input":"_arco-input_nzp8s_119","arco-input-wrapper":"_arco-input-wrapper_nzp8s_123","arco-dropdown-open":"_arco-dropdown-open_nzp8s_134","arco-icon-down":"_arco-icon-down_nzp8s_134","arco-dropdown-option-icon":"_arco-dropdown-option-icon_nzp8s_137"},pe=[{title:"导入",doptionData:[{value:e.importMk,label:"导入markdown"},{value:e.importJson,label:"导入Json"},{value:e.importDocx,label:"导入docx"}]},{title:"导出",doptionData:[{value:e.exportMk,label:"导出为markdown"},{value:e.exportJson,label:"导出为Json"},{value:e.exportDocx,label:"导出为docx"},{value:e.exportPdf,label:"导出为pdf"},{value:e.pubLishWebPage,label:"发布为网页"}]},{title:"其他",doptionData:[{value:e.problemFeedback,label:"问题反馈"},{value:e.privatization,label:"私有化部署"}]}],ue=[{title:"导出",doptionData:[{value:e.exportExcel,label:"导出为本地excel表格(.xlsx)"},{value:e.pubLishWebPage,label:"发布为网页"}]},{title:"其他",doptionData:[{value:e.problemFeedback,label:"问题反馈"},{value:e.privatization,label:"私有化部署"}]}],ve=[{title:"导出",doptionData:[{value:e.mindExportImage,label:"导出为图片"},{value:e.mindExportJson,label:"导出为Json"},{value:e.pubLishWebPage,label:"发布为网页"}]},{title:"其他",doptionData:[{value:e.problemFeedback,label:"问题反馈"},{value:e.privatization,label:"私有化部署"}]}];var me="/files/";const _e={key:0},ke=r(T({__name:"index",props:{dataInfo:{}},emits:["handleDropdownSelectChange","handleTitleChange","handleViewChange"],setup(r,{expose:u,emit:v}){const m=r,T=V(!1),N=L((()=>{var e,t;return(null==(e=m.dataInfo)?void 0:e.title)||(null==(t=s())?void 0:t.title)||""})),A=V(""),G=L((()=>{var e,t;return(null==(e=m.dataInfo)?void 0:e.vt)?p(null==(t=m.dataInfo)?void 0:t.vt):"-"})),K=L((()=>{var e;return(null==(e=m.dataInfo)?void 0:e.isPreview)||!1})),X=L((()=>{var e;return(null==(e=m.dataInfo)?void 0:e.docType)||"doc"})),ee=L((()=>{var e,t;return(null==(e=m.dataInfo)?void 0:e.docType)===l.doc?pe:(null==(t=m.dataInfo)?void 0:t.docType)===l.excel?ue:ve})),te=i(),le=[{val:"1",text:"连页视图"},{val:"2",text:"分页视图"}],{pathname:ae}=location,oe=[`${me}editor/p`,`${me}editor/w`,`${me}kbDetails`],ie=V("1"),se=v,re=V(!1);F((()=>m.dataInfo),(e=>{re.value=e.hasFav,A.value=e.title}),{deep:!0});const ke=e=>{ie.value=e,se("handleViewChange",e)},fe=e=>{se("handleTitleChange",e)},be=()=>{T.value=!0},he=()=>{window.open(`${me}entry`)},xe=()=>{window.open("http://orange.turntip.cn/doc")},ye=async()=>{var e,t;await c({tid:(null==(e=s())?void 0:e.tid)||"",uid:te.userId,title:A.value,type:(null==(t=m.dataInfo)?void 0:t.docType)||""}),re.value=!0,_.success("已添加到收藏文档")},ze=async()=>{var e;await d({tid:(null==(e=s())?void 0:e.tid)||"",uid:te.userId}),re.value=!1,_.success("已取消收藏")},Ce=()=>{se("handleDropdownSelectChange",e.play)},we=()=>{location.href=`${me}entry`},ge=()=>{_.info("该功能暂未开放")},je=()=>{se("handleDropdownSelectChange",e.share)},Se=e=>{se("handleDropdownSelectChange",e)};return u({handleResetView:()=>{ie.value="1"}}),(l,i)=>{var r;const c=$,d=k,p=f,u=b,v=h,m=ne,_=o,L=Y,V=x,F=a,te=y,se=z,pe=C,ue=ce,ve=w,me=g,Ie=j,$e=S,Te=I,Le=n;return D(),B(U,null,[J(Te,null,{default:M((()=>[J($e,{class:W([R(de).header,"flx-ce-bet"])},{default:M((()=>[P("div",{class:W(["flx-ce-sta",R(de).leftControl])},[J(V,null,{default:M((()=>[J(d,null,{content:M((()=>i[2]||(i[2]=[P("p",null,"返回首页",-1)]))),default:M((()=>[J(c,{class:W(["pointer",R(de).icon]),onClick:we},null,8,["class"])])),_:1}),J(p,{direction:"vertical",class:W(R(de).hidable)},null,8,["class"]),R(K)?O("",!0):(D(),B("div",{key:0,class:W([R(de).titleContainer,R(de).hidable])},[P("div",{class:W(R(de).titleWrap)},[J(u,{class:W(["borderRadius",R(de).inputTitle]),style:{"font-size":"18px","font-weight":"bold"},modelValue:R(A),"onUpdate:modelValue":i[0]||(i[0]=e=>q(A)?A.value=e:null),size:"large",onChange:fe},null,8,["class","modelValue"]),P("span",{class:W(R(de).fakeTitle)},H(R(A)),3)],2)],2)),R(K)?(D(),B("p",{key:1,class:W([R(de).title,R(de).hidable])},H(R(N)),3)):O("",!0),R(K)?O("",!0):(D(),Z(V,{key:2,class:W([[R(de).iconCol,R(de).hidable],"flex"])},{default:M((()=>[J(d,null,{content:M((()=>[P("p",{class:W(R(de).popoverSize)},H(R(re)?"取消":"添加")+"收藏文档",3)])),default:M((()=>[R(re)?(D(),Z(v,{key:0,class:W(R(de).starCol),onClick:ze},null,8,["class"])):(D(),Z(m,{key:1,class:"pointer",onClick:ye}))])),_:1}),J(d,null,{content:M((()=>[P("p",{class:W(R(de).popoverSize)},"移动",2)])),default:M((()=>[P("span",{class:"flex",onClick:be},[J(_,{icon:"material-symbols:drive-file-move-outline"})])])),_:1}),J(V,{class:W([R(de).iconCol,R(de).time])},{default:M((()=>[J(L,{size:"16"}),P("span",null,"最近保存 "+H(R(G)),1)])),_:1},8,["class"])])),_:1},8,["class"]))])),_:1})],2),P("div",{class:W(R(de).rightControl)},[J(V,{class:W(R(de).hidable)},{default:M((()=>[R(K)?O("",!0):(D(),B("span",_e,[J(V,{size:"medium"},{default:M((()=>[J(pe,{onSelect:Se},{content:M((()=>[J(te,{value:R(e).pubLishTemplate},{default:M((()=>i[3]||(i[3]=[E("发布为精选模版")]))),_:1},8,["value"]),(D(!0),B(U,null,Q(R(ee),(e=>(D(),Z(se,{key:e.title,title:e.title},{default:M((()=>[(D(!0),B(U,null,Q(e.doptionData,(e=>(D(),Z(te,{key:e.value,value:e.value},{default:M((()=>[E(H(e.label),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["title"])))),128))])),default:M((()=>[J(F,{style:{"user-select":"none"},class:W(R(de).iconCol),size:"20"},null,8,["class"])])),_:1}),"doc"==R(X)?(D(),Z(_,{key:0,icon:"mdi:presentation-play",class:W([R(de).iconCol,R(de).htmlIcon]),onClick:Ce},null,8,["class"])):O("",!0),J(d,null,{content:M((()=>[P("p",{class:W(R(de).popoverSize)},"邀请他人一起协作",2)])),default:M((()=>[J(ue,{class:W(R(de).iconCol),size:"20",onClick:ge},null,8,["class"])])),_:1}),J(ve,{class:W(["borderRadius",R(de).shareBtn]),onClick:je},{default:M((()=>i[4]||(i[4]=[E("分享")]))),_:1},8,["class"])])),_:1})])),J(V,null,{default:M((()=>[R(K)&&oe.includes(R(ae))?(D(),Z(pe,{key:0,onSelect:ke,"popup-max-height":!1},{content:M((()=>[(D(),B(U,null,Q(le,(e=>J(te,{key:e.val,value:e.val},{icon:M((()=>[R(ie)===e.val?(D(),Z(Ie,{key:0,style:{"font-size":"16px",color:"#1e6fff"}})):O("",!0)])),default:M((()=>[E(H(e.text),1)])),_:2},1032,["value"]))),64))])),default:M((()=>[J(ve,{class:W(["borderRadius",R(de).shareBtn]),type:"text"},{default:M((()=>[i[5]||(i[5]=E(" 视图模式 ")),J(me)])),_:1},8,["class"])])),_:1})):O("",!0),R(K)?(D(),Z(ve,{key:1,class:W(["borderRadius",R(de).shareBtn]),onClick:he},{default:M((()=>i[6]||(i[6]=[E("立即创作")]))),_:1},8,["class"])):O("",!0)])),_:1})])),_:1},8,["class"]),J(ve,{class:W(["borderRadius",[R(de).shareBtn,R(de).maxHidable]]),onClick:xe},{default:M((()=>i[7]||(i[7]=[E("立即创作")]))),_:1},8,["class"])],2)])),_:1},8,["class"])])),_:1}),J(Le,{visible:R(T),"onUpdate:visible":i[1]||(i[1]=e=>q(T)?T.value=e:null),title:"移动到",docType:R(X),btnType:R(t).move,tid:null==(r=R(s)())?void 0:r.tid},null,8,["visible","docType","btnType","tid"])],64)}}}),[["__scopeId","data-v-81ff8dee"]]);export{ke as _};
