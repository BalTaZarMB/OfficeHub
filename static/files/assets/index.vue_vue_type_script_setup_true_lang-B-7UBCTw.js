import{_ as e,g as t,i as a,M as i,X as s,B as o,Y as l,I as n,F as r,b as c,j as p}from"./arco-CSlgBs8T.js";import{d,c as m,j as u,n as v,s as x,p as y,m as b,w as f,r as h,a as k,k as w,l as g,u as j,$ as _,x as I,y as S,W as N}from"./vue-CE51Rq-N.js";import{u as z}from"./index-CP9bbISh.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index-CVht5qs2.js";/* empty css              *//* empty css              */import{h as M,i as C,m as E,j as F}from"./entry-Bl8EDNG_.js";import{f as L}from"./index.esm-CMCG6-Sp.js";const B=d({name:"IconMenu",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:i}){const s=t("icon");return{cls:m((()=>[s,`${s}-menu`,{[`${s}-spin`]:e.spin}])),innerStyle:m((()=>{const t={};return e.size&&(t.fontSize=a(e.size)?`${e.size}px`:e.size),e.rotate&&(t.transform=`rotate(${e.rotate}deg)`),t})),onClick:e=>{i("click",e)}}}}),D=["stroke-width","stroke-linecap","stroke-linejoin"],R=[b("path",{d:"M5 10h38M5 24h38M5 38h38"},null,-1)];var T=e(B,[["render",function(e,t,a,i,s,o){return u(),v("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:x(e.cls),style:y(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},R,14,D)}]]);const J=Object.assign(T,{install:(e,t)=>{var a;const i=null!=(a=null==t?void 0:t.iconPrefix)?a:"";e.component(i+T.name,T)}});var K=(e=>(e.create="create",e.import="import",e.template="template",e.componentStore="componentStore",e))(K||{}),P=(e=>(e.home="home",e.myDoc="myDoc",e.myExcel="myExcel",e.myKb="myKb",e.myResource="myResource",e.template="template",e.mindNotes="mindNotes",e))(P||{}),W=(e=>(e.home="首页",e.myDoc="我的文档",e.myExcel="我的表格",e.myKb="知识库",e.myResource="我的资源库",e.template="模板库",e.mindNotes="思维笔记",e))(W||{}),$=(e=>(e.doc="doc",e.excel="excel",e.dir="dir",e.mind="mind",e))($||{}),V=(e=>(e.edit="edit",e.copy="copy",e.move="move",e.delete="delete",e.cancel="cancel",e.cancelFavorite="cancelFavorite",e))(V||{}),U=(e=>(e.pubLishTemplate="pubLishTemplate",e.importMk="importMk",e.importJson="importJson",e.importDocx="importDocx",e.exportMk="exportMk",e.exportJson="exportJson",e.exportDocx="exportDocx",e.exportExcel="exportExcel",e.exportPdf="exportPdf",e.pubLishWebPage="pubLishWebPage",e.problemFeedback="problemFeedback",e.privatization="privatization",e.share="share",e.play="play",e.shareSuccess="shareSuccess",e.mindExportJson="mindExportJson",e.mindExportImage="mindImportImage",e))(U||{});const q=[{label:"仅自己可见",value:"1"},{label:"所有人可查看",value:"2"},{label:"所有人可编辑",value:"3"}],H={outline:"outline",paly:"play",minus:"minus",add:"add",selectSize:"selectSize"},O=[{label:"所有人可见",value:"0"},{label:"仅自己可见",value:"1"},{label:"密码访问",value:"2"}],Q=[{title:"名称",dataIndex:"title",align:"left",type:"textIcon",iconFileName:"type"},{title:"创建时间",dataIndex:"vt",align:"left",type:"time",ellipsis:!0,tooltip:!0,slotName:"vt"}],X={rowSelection:{type:"radio"},rowKey:"tid"},Y={textBtn:"_textBtn_hsziw_1"},A={class:"flx-ce-bet"},G=d({__name:"index",props:{tid:{},visible:{type:Boolean},title:{},docType:{},btnType:{}},emits:["update:visible","handleRefresh"],setup(e,{emit:t}){const a=e,d=t;f((()=>a.visible),(e=>{e&&q()}));const v=z(),y=m((()=>a.visible)),B=m((()=>a.docType)),D=m((()=>a.btnType)),R=m((()=>a.title)),T=m((()=>a.tid)),J=h(!1),K=h(),P=k({dirName:""}),W=h([]),$=k({spaceId:""}),U=(e,t,a)=>{$.spaceId=t},q=async()=>{const e=await M();W.value=e||[]},H=async()=>{if(D.value===V.copy)await C({tid:T.value,uid:v.userId,space:$.spaceId,type:B.value}),d("handleRefresh",$),G(),i.success("生成副本操作成功");else if(D.value===V.move){if(!$.spaceId)return i.error("请选择目标空间");await E({tid:T.value,uid:v.userId,space:$.spaceId}),d("handleRefresh",$),G(),i.success("移动操作成功")}},O=()=>{K.value.resetFields(),J.value=!0},G=()=>{d("update:visible",!1)},Z=async()=>{var e;const t=await(null==(e=K.value)?void 0:e.validate());return!t&&(await F({space_name:P.dirName}),q(),i.success("创建成功"),!0)};return(e,t)=>{const a=s,i=o,d=l,m=n,v=r,f=c,h=p;return u(),w(h,{width:600,"unmount-on-close":!0,visible:_(y),"onUpdate:visible":t[2]||(t[2]=e=>N(y)?y.value=e:null),title:_(R),"title-align":"start",onCancel:G},{footer:g((()=>[b("div",A,[b("div",null,[j(i,{type:"text",class:x(_(Y).textBtn),onClick:O},{icon:g((()=>[j(a)])),default:g((()=>[t[3]||(t[3]=I(" 新建文件夹 "))])),_:1},8,["class"])]),b("div",null,[j(i,{style:{"margin-right":"10px"},onClick:G},{default:g((()=>t[4]||(t[4]=[I(" 取消 ")]))),_:1}),j(i,{type:"primary",onClick:H},{default:g((()=>t[5]||(t[5]=[I(" 确定 ")]))),_:1})])])])),default:g((()=>[j(d,{columns:_(Q),data:_(W),pagination:!1,"row-selection":_(X).rowSelection,"row-key":_(X).rowKey,onSelect:U},{vt:g((({record:e})=>[b("span",null,S(_(L)(e.vt)),1)])),_:1},8,["columns","data","row-selection","row-key"]),j(h,{width:400,visible:_(J),"onUpdate:visible":t[1]||(t[1]=e=>N(J)?J.value=e:null),title:"新建文件夹","title-align":"start","on-before-ok":Z},{default:g((()=>[j(f,{ref_key:"formRef",ref:K,model:_(P)},{default:g((()=>[j(v,{field:"dirName",label:"","hide-label":!0,rules:[{required:!0,message:"请输入"}]},{default:g((()=>[j(m,{modelValue:_(P).dirName,"onUpdate:modelValue":t[0]||(t[0]=e=>_(P).dirName=e),placeholder:"请输入文件夹名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])),_:1},8,["visible","title"])}}});export{$ as F,U as H,J as I,P as M,V as T,G as _,K as a,W as b,H as c,O as m,q as s};
