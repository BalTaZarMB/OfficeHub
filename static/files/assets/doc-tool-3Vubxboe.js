import{m as e}from"./dom-w3hEyMar.js";import{e as t}from"./index-CP9bbISh.js";const n=(e,t)=>{const n=e.getRangeAt(0),o=n.extractContents(),a=document.createElement("span");a.style.fontFamily=t;const d=e=>{if(e.nodeType===Node.TEXT_NODE){const t=a.cloneNode();return t.textContent=e.textContent,t}if(e.nodeType===Node.ELEMENT_NODE){const n=e,o=n.cloneNode(!1);o.style.fontFamily=t;for(let e of Array.from(n.childNodes))o.appendChild(d(e));return o}return e.cloneNode(!0)},r=document.createDocumentFragment();for(let l of Array.from(o.childNodes))r.appendChild(d(l));a.appendChild(r),n.insertNode(a),e.removeAllRanges(),e.addRange(n)},o=e=>{const t=window.getSelection();if(!t||!t.rangeCount)return;const n=t.getRangeAt(0),o=document.createTextNode(e);n.deleteContents(),n.insertNode(o),n.setStartAfter(o),n.setEndAfter(o),t.removeAllRanges(),t.addRange(n)},a=(t,n)=>{const o=e("input","",{type:"file"});o.style.display="none",document.body.append(o),o.click(),o.addEventListener("change",(e=>{const o=e.target.files[0],a=new FileReader;a.readAsText(o),a.onload=()=>{try{let e=JSON.parse(a.result);t&&t(e)}catch(e){n&&n(a.result)}}}))},d=(e=[])=>{const n=["h1","h2","h3","h4","h5"];return null==e?void 0:e.map((e=>"header"===e.type&&e.data.level>0&&{id:e.id,tag:n[e.data.level-1],text:t(e.data.text)})).filter(Boolean)};export{n as a,d as g,o as i,a as u};
