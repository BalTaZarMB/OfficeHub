import{_ as e}from"./index.vue_vue_type_script_setup_true_lang-BjN5Q8E7.js";import{h as t,i as a}from"./index-CP9bbISh.js";/* empty css              */import"./index.vue_vue_type_script_setup_true_lang-B-7UBCTw.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{e as s}from"./mitt-DRzrVJO_.js";import{e as l,D as i,f as n,L as o,h as r,j as c}from"./arco-CSlgBs8T.js";import{d as p,r as d,a as u,o as m,j as y,n as _,u as v,l as x,F as f,O as j,$ as k,k as g,x as h,q as C,s as b,m as w,y as O,W as z}from"./vue-CE51Rq-N.js";const S={del:"_del_1f2vr_1"},I=["onClick"],B={style:{"text-align":"center"}},D=p({__name:"index",props:{apiUrl:{},type:{},space:{}},setup(p,{expose:D}){const F=p,N=d(!0),U=d(!1),R=u({}),W=d(!1),q=d([]),E=u({current:1,pageSize:10,total:0}),L=()=>{s.emit("handleBtnOptionDel",R),U.value=!1,A()},T=()=>{U.value=!1,A()},V=e=>{const t={column:{dataIndex:"title"},record:e};s.emit("handleCellClick",t)},$=e=>{s.emit("handleTextIcon",e)},A=()=>{Object.keys(R).forEach((e=>delete R[e]))},G=(e,t)=>{const a={optionItem:{btnName:"",isShowFiled:"type",isShowFiledVal:"dir",type:t},tableItemData:{column:{},record:e}};s.emit("handleBtnOption",a)},H=async(e={},t=!1)=>{const s={page:t?1:E.current,pagesize:t?10:E.pageSize,keyword:"",type:F.type||"",space:"",...e};W.value=!0;const{list:l,total:i}=await a.get(F.apiUrl,{params:s});W.value=!1,F.type?q.value=[...q.value,...l]:q.value=l,E.total=i||0},J=async()=>{F.type&&E.current*E.pageSize<E.total&&(E.current+=1,await H())};return m((()=>{H()})),D({setRefresh:function(e={},t=!0){H(e,t)}}),(a,s)=>{const p=e,d=l,u=i,m=n,D=o,E=r,A=c;return y(),_(f,null,[v(E,{size:"small","max-height":300,onReachBottom:J,scrollbar:k(N),loading:k(W)},{default:x((()=>[(y(!0),_(f,null,j(k(q),(e=>(y(),g(D,{key:e.tid},{actions:x((()=>[v(m,null,{content:x((()=>["dir"!=e.type?(y(),g(u,{key:0,onClick:t=>G(e,"copy")},{default:x((()=>s[1]||(s[1]=[h("复制")]))),_:2},1032,["onClick"])):C("",!0),"dir"!=e.type?(y(),g(u,{key:1,onClick:t=>G(e,"move")},{default:x((()=>s[2]||(s[2]=[h("移动")]))),_:2},1032,["onClick"])):C("",!0),v(u,{class:b(k(S).del),onClick:t=>{return a=e,U.value=!0,void Object.assign(R,a);var a}},{default:x((()=>s[3]||(s[3]=[h(" 删除 ")]))),_:2},1032,["class","onClick"])])),default:x((()=>[v(d)])),_:2},1024)])),default:x((()=>[w("span",{class:"flx-ce-sta",onClick:t=>(e=>{F.type?V(e):$(e)})(e)},[a.type?C("",!0):(y(),g(p,{key:0,class:b(k(t)(e.type).className),icon:k(t)(e.type).icon},null,8,["class","icon"])),h(" "+O(e.title),1)],8,I)])),_:2},1024)))),128))])),_:1},8,["scrollbar","loading"]),v(A,{visible:k(U),"onUpdate:visible":s[0]||(s[0]=e=>z(U)?U.value=e:null),width:"80%",onOk:L,onCancel:T,closable:!1},{title:x((()=>s[4]||(s[4]=[h(" 删除记录 ")]))),default:x((()=>[w("div",B,O("dir"==k(R).type?"删除文件夹后, 文件夹内文件也会删除, 是否确认删除文件夹？":"删除记录后，文件将不再列表中显示"),1)])),_:1},8,["visible"])],64)}}});export{D as _};
