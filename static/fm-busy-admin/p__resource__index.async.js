"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[83],{92331:function(me,V,o){o.r(V),o.d(V,{default:function(){return u}});var D=o(5574),d=o.n(D),j=o(88874),X=o(42075),i=o(27494),P=o(73318),U=o(86250),w=o(66309),p=o(49531),E=o(65217),G=o(96067),$=o(78045),f=o(67294),H=o(42268),I=o(19515),g=o(9411),K=function(){return g.Z.get("/doc/resource/cate")},Q=function(s){return g.Z.post("/doc/resource/cate",s)},Y=function(s){return g.Z.put("/doc/resource/cate",s)},q=function(s){return g.Z.delete("/doc/resource/cate?tid=".concat(s))},_=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10;return g.Z.get("/doc/resource?cate=".concat(s,"&title=").concat(y,"&page=").concat(h,"&pagesize=").concat(x))},ee=function(s){return g.Z.post("/doc/resource",s)},te=function(s){return g.Z.put("/doc/resource",s)},ne=function(s,y,h){return g.Z.delete("/doc/resource?tid=".concat(s,"&cate=").concat(y,"&fid=").concat(h))},b={container:"container___naWOw",add:"add___qvJuK"},n=o(85893),t=j.Z.confirm,l=function(){var s=[{title:"\u8D44\u6E90\u540D\u79F0",dataIndex:"title",key:"title"},{title:"\u8D44\u6E90\u5730\u5740",dataIndex:"url",key:"url",render:function(e){var c=function(J){j.Z.confirm({title:"\u67E5\u770B\u8D44\u6E90",content:(0,n.jsx)("div",{style:{maxWidth:500},children:(0,n.jsx)("img",{src:J,alt:"",style:{width:"100%"}})}),footer:null,closable:!0,onOk:function(){},onCancel:function(){}})};return(0,n.jsx)("a",{onClick:function(){return c(e)},children:"\u67E5\u770B"})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"vt",key:"vt",render:function(e){return e?(0,I.p6)(e):"--"}},{title:"\u64CD\u4F5C",key:"action",render:function(e,c){return(0,n.jsx)(X.Z,{size:"middle",children:(0,n.jsx)("a",{onClick:function(){return $e(c)},children:"\u5220\u9664"})})}}],y=(0,f.useState)([]),h=d()(y,2),x=h[0],ae=h[1],B=(0,f.useState)([]),N=d()(B,2),A=N[0],m=N[1],re=(0,f.useState)(!1),M=d()(re,2),C=M[0],S=M[1],le=(0,f.useState)(!1),z=d()(le,2),se=z[0],F=z[1],T=(0,f.useState)(""),oe=d()(T,2),ge=oe[0],ue=oe[1],he=(0,f.useState)(),ce=d()(he,2),Z=ce[0],ie=ce[1],xe=i.Z.useForm(),ve=d()(xe,1),L=ve[0],pe=i.Z.useForm(),Ce=d()(pe,1),W=Ce[0],je=(0,f.useState)([1,10]),de=d()(je,2),R=de[0],ye=de[1],Se=(0,f.useState)(0),fe=d()(Se,2),Ze=fe[0],Ae=fe[1],Fe=function(){ue("\u521B\u5EFA\u8D44\u6E90\u5206\u7C7B"),S(!0),L.resetFields()},Oe=function(){F(!0),W.resetFields()},De=function(e){ie(e),W.setFieldsValue({cate:e}),O({cate:e})},Ee=function(e){O({title:e.target.value,cate:Z})},$e=function(e){t({title:"\u786E\u5B9A\u8981\u5220\u9664\u6D88\u606F\u3010".concat(e.title,"\u3011\u5417?"),content:"\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01",onOk:function(){ne(e.tid,Z,e.fid).then(function(v){O({cate:Z})})},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"})},O=function(e){_(e.cate,e.title,R[0],R[1]).then(function(c){var v=c.list,J=c.total;ae(v),Ae(J)})},k=function(e){K().then(function(c){m(c),e&&e(c)})};return(0,f.useEffect)(function(){k(function(r){if(r&&r.length){var e=r[0],c=e.tid,v=Z||c;O({cate:v}),ie(v)}})},[R]),(0,n.jsxs)("div",{className:b.container,children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{children:["\u8D44\u6E90\u5206\u7C7B\u7BA1\u7406",(0,n.jsx)(P.ZP,{type:"primary",className:b.add,onClick:Fe,children:"\u521B\u5EFA\u8D44\u6E90\u5206\u7C7B"})]}),(0,n.jsx)(U.Z,{gap:"4px 0",wrap:!0,style:{marginBottom:20},children:A.map(function(r){return(0,n.jsx)(w.Z,{bordered:!1,closable:!0,onDoubleClick:function(c){c.preventDefault(),ue("\u7F16\u8F91\u6A21\u7248\u5206\u7C7B"),S(!0),L.setFieldsValue({id:r.tid,cate:r.title,role:r.role})},onClose:function(c){c.preventDefault(),t({title:"\u786E\u5B9A\u8981\u5220\u9664\u5206\u7C7B\u3010".concat(r.title,"\u3011\u5417?"),content:"\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01",onOk:function(){q(r.tid).then(function(J){k()})},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88"})},color:(0,I.t3)(),style:{cursor:"pointer"},children:r.title},r.tid)})})]}),(0,n.jsxs)("h2",{children:["\u8D44\u6E90\u5217\u8868",(0,n.jsxs)("div",{className:b.add,children:[(0,n.jsx)(p.Z,{placeholder:"\u8BF7\u5173\u952E\u8BCD\u641C\u7D22",style:{width:150,marginRight:12},onChange:(0,I.Ds)(Ee,600)}),!!A.length&&(0,n.jsx)(E.Z,{defaultValue:Z,style:{width:120,marginRight:12},onChange:De,options:A.map(function(r){return{label:r.title,value:r.tid}})}),(0,n.jsx)(P.ZP,{type:"primary",className:b.add,onClick:Oe,children:"+\u4E0A\u4F20"})]})]}),(0,n.jsx)(G.Z,{columns:s,dataSource:x,rowKey:"id",pagination:{pageSize:R[1],current:R[0],onChange:function(e,c){ye([e,c])},total:Ze}}),(0,n.jsx)(j.Z,{title:ge,open:C,width:420,onOk:function(){L.validateFields().then(function(e){if(e.id){Y({tid:e.id,title:e.cate,role:e.role}).then(function(c){S(!1),k()});return}Q({title:e.cate,role:e.role}).then(function(c){S(!1),k()})})},onCancel:function(){S(!1)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsxs)(i.Z,{form:L,labelCol:{span:6},initialValues:{role:"1"},children:[(0,n.jsx)(i.Z.Item,{label:"ID",name:"id",hidden:!0,children:(0,n.jsx)(p.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{label:"\u5206\u7C7B\u540D\u79F0",name:"cate",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0"}],children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(i.Z.Item,{label:"\u5206\u7C7B\u6743\u9650",name:"role",children:(0,n.jsxs)($.ZP.Group,{children:[(0,n.jsx)($.ZP,{value:"1",children:"\u516C\u5F00"}),(0,n.jsx)($.ZP,{value:"0",children:"\u79C1\u6709"})]})})]})}),(0,n.jsx)(j.Z,{title:"\u8D44\u6E90\u5F39\u7A97",open:se,width:420,onOk:function(){W.validateFields().then(function(e){if(e.id){te({tid:e.id,title:e.title,cate:e.cate,url:e.url.url,fid:e.url.name}).then(function(c){F(!1),O({cate:e.cate})});return}ee({title:e.title,cate:e.cate,url:e.url.url,fid:e.url.name}).then(function(c){F(!1),O({cate:e.cate})})})},onCancel:function(){F(!1)},okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,n.jsxs)(i.Z,{form:W,labelCol:{span:6},initialValues:{cate:Z},children:[(0,n.jsx)(i.Z.Item,{label:"ID",name:"id",hidden:!0,children:(0,n.jsx)(p.Z,{disabled:!0})}),(0,n.jsx)(i.Z.Item,{label:"\u6807\u9898",name:"title",children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(i.Z.Item,{label:"\u5206\u7C7B",name:"cate",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7C7B"}],children:(0,n.jsx)(E.Z,{style:{width:"100%"},options:A.map(function(r){return{label:r.title,value:r.tid}})})}),(0,n.jsx)(i.Z.Item,{label:"\u4E0A\u4F20",name:"url",children:(0,n.jsx)(H.ZP,{})})]})})]})},u=l},86250:function(me,V,o){o.d(V,{Z:function(){return n}});var D=o(67294),d=o(93967),j=o.n(d),X=o(98423),i=o(98065),P=o(53124),U=o(83559),w=o(83262);const p=["wrap","nowrap","wrap-reverse"],E=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],G=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],$=(t,l)=>{const u=l.wrap===!0?"wrap":l.wrap;return{[`${t}-wrap-${u}`]:u&&p.includes(u)}},f=(t,l)=>{const u={};return G.forEach(a=>{u[`${t}-align-${a}`]=l.align===a}),u[`${t}-align-stretch`]=!l.align&&!!l.vertical,u},H=(t,l)=>{const u={};return E.forEach(a=>{u[`${t}-justify-${a}`]=l.justify===a}),u};function I(t,l){return j()(Object.assign(Object.assign(Object.assign({},$(t,l)),f(t,l)),H(t,l)))}var g=I;const K=t=>{const{componentCls:l}=t;return{[l]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},Q=t=>{const{componentCls:l}=t;return{[l]:{"&-gap-small":{gap:t.flexGapSM},"&-gap-middle":{gap:t.flexGap},"&-gap-large":{gap:t.flexGapLG}}}},Y=t=>{const{componentCls:l}=t,u={};return p.forEach(a=>{u[`${l}-wrap-${a}`]={flexWrap:a}}),u},q=t=>{const{componentCls:l}=t,u={};return G.forEach(a=>{u[`${l}-align-${a}`]={alignItems:a}}),u},_=t=>{const{componentCls:l}=t,u={};return E.forEach(a=>{u[`${l}-justify-${a}`]={justifyContent:a}}),u},ee=()=>({});var te=(0,U.I$)("Flex",t=>{const{paddingXS:l,padding:u,paddingLG:a}=t,s=(0,w.IX)(t,{flexGapSM:l,flexGap:u,flexGapLG:a});return[K(s),Q(s),Y(s),q(s),_(s)]},ee,{resetStyle:!1}),ne=function(t,l){var u={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&l.indexOf(a)<0&&(u[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)l.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(u[a[s]]=t[a[s]]);return u},n=D.forwardRef((t,l)=>{const{prefixCls:u,rootClassName:a,className:s,style:y,flex:h,gap:x,children:ae,vertical:B=!1,component:N="div"}=t,A=ne(t,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:m,direction:re,getPrefixCls:M}=D.useContext(P.E_),C=M("flex",u),[S,le,z]=te(C),se=B!=null?B:m==null?void 0:m.vertical,F=j()(s,a,m==null?void 0:m.className,C,le,z,g(C,t),{[`${C}-rtl`]:re==="rtl",[`${C}-gap-${x}`]:(0,i.n)(x),[`${C}-vertical`]:se}),T=Object.assign(Object.assign({},m==null?void 0:m.style),y);return h&&(T.flex=h),x&&!(0,i.n)(x)&&(T.gap=x),S(D.createElement(N,Object.assign({ref:l,className:F,style:T},(0,X.Z)(A,["justify","wrap","align"])),ae))})}}]);
